{"version":3,"sources":["src/TestApp.tsx"],"sourcesContent":["import { atom, component, derivation, Iterator, list, read, unmounted, write } from \"@calmdown/pyxis\";\nimport { Text } from \"@calmdown/pyxis-dom\";\nimport { Button } from \"~/component/Button\";\nimport { CheckBox } from \"~/component/CheckBox\";\nimport { TextInput } from \"~/component/TextInput\";\nvar _jsxFileName = \"C:/Users/cdv/Projects/pyxis/packages/demo-app/src/TestApp.tsx\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"@calmdown/pyxis/jsx-dev-runtime\";\nexport const TestApp = component(() => {\n\tconst todos = list();\n\tconst todoText = atom(\"\");\n\tconst addTodoItem = () => {\n\t\ttodos.insertFirst({\n\t\t\tdone: atom(false),\n\t\t\ttext: read(todoText)\n\t\t});\n\t\twrite(todoText, \"\");\n\t};\n\tconst shuffle = () => {\n\t\tif (todos.size() < 2) {\n\t\t\treturn;\n\t\t}\n\t\tlet i = todos.size();\n\t\twhile (i > 0) {\n\t\t\tconst rng = Math.trunc(Math.random() * i);\n\t\t\ti -= 1;\n\t\t\tconst a = Math.min(i, rng);\n\t\t\tconst b = Math.max(i, rng);\n\t\t\tif (a === b) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tconst B = todos.removeAt(b);\n\t\t\tconst A = todos.removeAt(a);\n\t\t\ttodos.insertAt(a, B);\n\t\t\ttodos.insertAt(b, A);\n\t\t}\n\t};\n\tlet interval = -1;\n\tconst endShuffle = () => {\n\t\tshuffle();\n\t\tclearInterval(interval);\n\t};\n\tconst beginShuffle = () => {\n\t\tendShuffle();\n\t\tinterval = setInterval(shuffle, 100);\n\t};\n\tunmounted(endShuffle);\n\treturn /* @__PURE__ */ _jsxDEV(_Fragment, { children: [\n\t\t/* @__PURE__ */ _jsxDEV(\"label\", { children: [/* @__PURE__ */ _jsxDEV(Text, { children: [\n\t\t\t\"What needs to be done (\",\n\t\t\tderivation(() => todos.size()),\n\t\t\t\")?\"\n\t\t] }, void 0, true, {\n\t\t\tfileName: _jsxFileName,\n\t\t\tlineNumber: 64,\n\t\t\tcolumnNumber: 5\n\t\t}, this), /* @__PURE__ */ _jsxDEV(TextInput, { value: todoText }, void 0, false, {\n\t\t\tfileName: _jsxFileName,\n\t\t\tlineNumber: 65,\n\t\t\tcolumnNumber: 5\n\t\t}, this)] }, void 0, true, {\n\t\t\tfileName: _jsxFileName,\n\t\t\tlineNumber: 63,\n\t\t\tcolumnNumber: 4\n\t\t}, this),\n\t\t/* @__PURE__ */ _jsxDEV(Button, {\n\t\t\tdisabled: derivation(() => !read(todoText)),\n\t\t\t\"on:click\": addTodoItem,\n\t\t\tchildren: /* @__PURE__ */ _jsxDEV(Text, { children: \"Add\" }, void 0, false, {\n\t\t\t\tfileName: _jsxFileName,\n\t\t\t\tlineNumber: 71,\n\t\t\t\tcolumnNumber: 5\n\t\t\t}, this)\n\t\t}, void 0, false, {\n\t\t\tfileName: _jsxFileName,\n\t\t\tlineNumber: 67,\n\t\t\tcolumnNumber: 4\n\t\t}, this),\n\t\t/* @__PURE__ */ _jsxDEV(Button, {\n\t\t\tdisabled: derivation(() => todos.size() < 2),\n\t\t\t\"on:mousedown\": beginShuffle,\n\t\t\t\"on:mouseup\": endShuffle,\n\t\t\tchildren: /* @__PURE__ */ _jsxDEV(Text, { children: \"Shuffle\" }, void 0, false, {\n\t\t\t\tfileName: _jsxFileName,\n\t\t\t\tlineNumber: 78,\n\t\t\t\tcolumnNumber: 5\n\t\t\t}, this)\n\t\t}, void 0, false, {\n\t\t\tfileName: _jsxFileName,\n\t\t\tlineNumber: 73,\n\t\t\tcolumnNumber: 4\n\t\t}, this),\n\t\t/* @__PURE__ */ _jsxDEV(\"ul\", { children: /* @__PURE__ */ _jsxDEV(Iterator, {\n\t\t\tsource: todos,\n\t\t\tproxy: [\"done\", \"text\"],\n\t\t\tchildren: (todo) => /* @__PURE__ */ _jsxDEV(\"li\", { children: [/* @__PURE__ */ _jsxDEV(CheckBox, {\n\t\t\t\tchecked: todo.done,\n\t\t\t\tchildren: todo.text\n\t\t\t}, void 0, false, {\n\t\t\t\tfileName: _jsxFileName,\n\t\t\t\tlineNumber: 84,\n\t\t\t\tcolumnNumber: 8\n\t\t\t}, this), /* @__PURE__ */ _jsxDEV(Button, {\n\t\t\t\t\"on:click\": () => todos.remove(todo.proxied),\n\t\t\t\tchildren: /* @__PURE__ */ _jsxDEV(Text, { children: \"Remove\" }, void 0, false, {\n\t\t\t\t\tfileName: _jsxFileName,\n\t\t\t\t\tlineNumber: 88,\n\t\t\t\t\tcolumnNumber: 9\n\t\t\t\t}, this)\n\t\t\t}, void 0, false, {\n\t\t\t\tfileName: _jsxFileName,\n\t\t\t\tlineNumber: 87,\n\t\t\t\tcolumnNumber: 8\n\t\t\t}, this)] }, void 0, true, {\n\t\t\t\tfileName: _jsxFileName,\n\t\t\t\tlineNumber: 83,\n\t\t\t\tcolumnNumber: 7\n\t\t\t}, this)\n\t\t}, void 0, false, {\n\t\t\tfileName: _jsxFileName,\n\t\t\tlineNumber: 81,\n\t\t\tcolumnNumber: 5\n\t\t}, this) }, void 0, false, {\n\t\t\tfileName: _jsxFileName,\n\t\t\tlineNumber: 80,\n\t\t\tcolumnNumber: 4\n\t\t}, this)\n\t] }, void 0, true);\n});\n"],"names":[],"mappings":"AAAA,sGAAsG;AACtG,2CAA2C;AAC3C,4CAA4C;AAC5C,gDAAgD;AAChD,kDAAkD;AAClD,mFAAmF;AACnF,2FAA2F;AAC3F,AAAO,AAAA,AAAM,AAAA,IAAA,AAAA,2BAA2B;AACxC,oBAAoB,6CAAA,AAAA,EAAE;AACtB,yBAAyB,uCAAA,AAAA,EAAE;AAC3B,4BAA4B;AAC5B,qBAAqB;AACrB,mBAAmB,mCAAA,AAAA,EAAE;AACrB,uBAAuB;AACvB,KAAK;AACL,sBAAsB;AACtB,GAAG;AACH,wBAAwB;AACxB,yBAAyB;AACzB,UAAU;AACV,GAAG;AACH,uBAAuB;AACvB,iBAAiB;AACjB,6CAA6C;AAC7C,UAAU;AACV,8BAA8B;AAC9B,8BAA8B;AAC9B,iBAAiB;AACjB,aAAa;AACb,IAAI;AACJ,+BAA+B;AAC/B,+BAA+B;AAC/B,wBAAwB;AACxB,wBAAwB;AACxB,GAAG;AACH,GAAG;AACH,mBAAmB;AACnB,2BAA2B;AAC3B,YAAY;AACZ,0BAA0B;AAC1B,GAAG;AACH,6BAA6B;AAC7B,eAAe;AACf,uCAAuC;AACvC,GAAG;AACH,uBAAuB;AACvB,wDAAwD;AACxD,2FAA2F;AAC3F,6BAA6B;AAC7B,kCAAkC;AAClC,OAAO;AACP,sBAAsB;AACtB,0BAA0B;AAC1B,kBAAkB;AAClB,kBAAkB;AAClB,oFAAoF;AACpF,0BAA0B;AAC1B,kBAAkB;AAClB,kBAAkB;AAClB,8BAA8B;AAC9B,0BAA0B;AAC1B,kBAAkB;AAClB,kBAAkB;AAClB,WAAW;AACX,mCAAmC;AACnC,+CAA+C;AAC/C,2BAA2B;AAC3B,gFAAgF;AAChF,2BAA2B;AAC3B,mBAAmB;AACnB,mBAAmB;AACnB,WAAW;AACX,qBAAqB;AACrB,0BAA0B;AAC1B,kBAAkB;AAClB,kBAAkB;AAClB,WAAW;AACX,mCAAmC;AACnC,gDAAgD;AAChD,gCAAgC;AAChC,4BAA4B;AAC5B,oFAAoF;AACpF,2BAA2B;AAC3B,mBAAmB;AACnB,mBAAmB;AACnB,WAAW;AACX,qBAAqB;AACrB,0BAA0B;AAC1B,kBAAkB;AAClB,kBAAkB;AAClB,WAAW;AACX,+EAA+E;AAC/E,iBAAiB;AACjB,2BAA2B;AAC3B,qGAAqG;AACrG,uBAAuB;AACvB,uBAAuB;AACvB,sBAAsB;AACtB,2BAA2B;AAC3B,mBAAmB;AACnB,mBAAmB;AACnB,8CAA8C;AAC9C,iDAAiD;AACjD,oFAAoF;AACpF,4BAA4B;AAC5B,oBAAoB;AACpB,oBAAoB;AACpB,YAAY;AACZ,sBAAsB;AACtB,2BAA2B;AAC3B,mBAAmB;AACnB,mBAAmB;AACnB,+BAA+B;AAC/B,2BAA2B;AAC3B,mBAAmB;AACnB,mBAAmB;AACnB,WAAW;AACX,qBAAqB;AACrB,0BAA0B;AAC1B,kBAAkB;AAClB,kBAAkB;AAClB,8BAA8B;AAC9B,0BAA0B;AAC1B,kBAAkB;AAClB,kBAAkB;AAClB,UAAU;AACV,oBAAoB;AACpB,CAAC,2BAAA,AAAA,EAAE;AACH;;;;;;;;;;;;;;"}